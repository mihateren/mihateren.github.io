---
title: "Глава 1. JVM и первая программа"
parent: "Java Core"
nav_order: 1
---
# Глава 1. JVM и первая программа

## 1. Почему Java — это удобно и круто

Представьте, что вы записали песню в формате mp3. Такой файл можно включить на любом устройстве — в машине, на телефоне, в холодильнике с экраном — потому что все они понимают этот формат. Точно так же работает и Java: вы пишете программу один раз, а запускать её можно где угодно, если там есть специальная программа — **Java Virtual Machine (JVM)**.

Java — это язык программирования, который придумали для того, чтобы программы работали на любом компьютере, где бы они ни были написаны. Его главный лозунг — *"Write once, run anywhere"* (Написал однажды — запускай где угодно). Это значит, что если вы написали программу на Windows, она без проблем запустится и на Linux, и на Mac, и даже на холодильнике, если там есть JVM.

В отличие от языков вроде C++ или Go, где ваш код превращается в машинные инструкции конкретного процессора, Java компилируется в универсальный байткод. Этот байткод понимает любая JVM, а уже она сама разберётся, как запустить его на нужном железе.

## 2. Как запускается Java-программа

Вспомните, как вы отправляете письмо за границу: сначала пишете его на русском, потом переводите на английский, а уже на месте его читает человек, который знает этот язык. С программой на Java происходит похожее.

1. Вы пишете исходный код — создаёте файл с расширением `.java` и пишете в нём свой код.
2. Компилируете код — специальная программа-компилятор (`javac`) превращает ваш код в байткод (файл `.class`).
3. Запускаете программу — JVM загружает байткод и начинает его выполнять.

Когда вы запускаете программу, JVM делает несколько важных шагов:
- Загружает нужные классы (Class Loader).
- Проверяет безопасность байткода.
- Интерпретирует байткод построчно, а если какой-то участок используется часто — "на лету" превращает его в машинный код процессора (Just-In-Time компиляция, JIT). Благодаря этому часто используемые части программы работают очень быстро.

Если сравнить с переводом книги: сначала вы переводите каждую фразу по словарю, но если фраза повторяется много раз, вы запоминаете её перевод и больше не заглядываете в словарь.

### Как Java находит и подгружает классы: роль ClassLoader

Представьте себе огромную библиотеку, где книги (классы) хранятся на разных полках, а библиотекарь (ClassLoader) приносит нужную книгу только тогда, когда вы её попросили. В Java классы не загружаются все сразу — они подгружаются по мере необходимости, и за это отвечает специальный механизм — ClassLoader.

Когда вы запускаете программу, JVM не читает сразу все классы, которые есть в проекте. Она начинает с главного класса (того, где есть `main`), а остальные подгружает только тогда, когда они реально понадобятся. Например, если в вашей программе есть класс `Cat`, он будет загружен только тогда, когда вы впервые напишете `new Cat()` или обратитесь к его статическим полям/методам.

Это позволяет:
- Загружать классы "на лету" (например, плагины, модули, сторонние библиотеки).
- Изолировать классы из разных источников друг от друга.
- Реализовать горячую замену кода, динамическую подгрузку и даже запускать несколько версий одной и той же библиотеки в одном приложении (например, в серверах приложений).

Если вы попросили библиотекаря найти редкую книгу, он сначала ищет у себя (Application ClassLoader), потом спрашивает у заведующего отделом (Extension ClassLoader), а если и там нет — обращается к главному хранителю фонда (Bootstrap ClassLoader). Если ни у кого нет — книга не найдена, программа падает с ошибкой `ClassNotFoundException`.

## 4. Первая программа на Java

Давайте по классике посмотрим, как выглядит Hello World на Java:

```java
public class HelloWorld {
    public static void main(String[] args) {
        System.out.println("Hello, World!");
    }
}
```

- `public class HelloWorld` — объявляете класс с именем HelloWorld. В Java всё начинается с классов.
- `public static void main(String[] args)` — специальный метод, с которого начинается выполнение программы. JVM всегда ищет именно этот метод.
- `System.out.println("Hello, World!");` — команда, которая выводит текст на экран.

На первый взгляд, программа выглядит громоздко. Но за этим стоит строгая структура: вы явно указываете, где начинается программа, что она делает, и как она взаимодействует с системой. Это помогает писать большие и сложные программы, где важна чёткость и порядок.


## 5. Резюме

Java — это язык, который позволяет писать программы один раз и запускать их где угодно. Всё благодаря виртуальной машине (JVM), которая исполняет универсальный байткод. JDK — это ваш набор инструментов для разработки, JRE — среда для запуска, а JVM — сердце всей системы.

В следующей главе мы разберёмся, какие бывают типы данных в Java и как с ними работать.

## Дополнительные материалы

1. Внутренности JVM: https://habr.com/ru/articles/471772/
2. JIT компилятор: https://habr.com/ru/articles/536288/

## Домашнее задание

1. Установите JetBrains IDEA.
2. Создайте первый проект и напишите программу HelloWorld.
